
<div id="noPrintDiv" class="noPrint">

	<div *ngIf="statusMessages" class="msgPanel" aria-label="mensagens e alertas">
		<div *ngFor="let msg of statusMessages">
			<div class="clear" style="margin-bottom: .3em;"></div>
			<div class="alert alert-{{msg.type}}" role="alert">
				<i class="{{msg.clazz}}"></i>
				<span [innerHtml]="msg.msgg"></span>
			</div>
		</div>
	</div>
	<div class="clear"></div>
	
	<ngx-spinner bdColor="rgba(77, 119, 123, 0.6)"
			     size="medium"
				 color="#fff"
			     type="ball-spin-clockwise"
				 fullScreen="true">
		<p style="font-family: verdana; font-size: 1.4em; color: #fff;" 
		   aria-label="Tela de bloqueio ativada, aguarde finalizar a execu&ccedil;&atilde;o."> Carregando ... </p>
	</ngx-spinner>
	
	<header *ngIf="mainpageNumber >= 0">
		<div class="header noPrint">
			<div class="top-left">
				<div class="field menuTop" *ngIf="logged">
					<button class="btn btn-link" (click)="showHideTopMenu()" tabIndex="0"
					        placement="right" aria-label="Clique para expandir/ocultar o menu"
		            		ngbTooltip="Clique para expandir/ocultar o menu">
						<i class="far fa-plus-square" *ngIf="!showMenuOnTop"></i>
				        <i class="far fa-minus-square" *ngIf="showMenuOnTop"></i>
				        <i class="fas fa-bars" style="margin-left: 0.1em;"></i>
					</button>
				</div>
				
				<div class="btn-group" ngbDropdown role="group" 
				     aria-label="In&iacute;cio" #drdBegin="ngbDropdown">
					<rich-dropdown-button label="In&iacute;cio" 
				                          forToggle="true" 
				                          ngbDropdownToggle>
				    </rich-dropdown-button>
				    <div class="dropdown-menu" ngbDropdownMenu>
				    	<rich-dropdown-button label="P&aacute;gina Inicial"  
				    	                      [noRender]="!logged"
				    	                      [activated]="mainpageNumber == 0"
						                      (clickEmitter)="homeView()"
						                      (clickEmitter1)="drdBegin.close()">
						</rich-dropdown-button>
						<rich-dropdown-button label="P&aacute;gina Inicial"  
				    	                      [noRender]="logged"
						                      (clickEmitter)="publicHome()"
						                      (clickEmitter1)="drdBegin.close()">
						</rich-dropdown-button>
						<rich-dropdown-button label="Sobre o(s) Autor(es)"  
				    	                      [noRender]="logged || (null != appConfig && !appConfig.useAuthorInfo)"
				    	                      [activated]="mainpageNumber == 7"
						                      (clickEmitter)="authorInfo()"
						                      (clickEmitter1)="drdBegin.close()">
						</rich-dropdown-button>
				    </div>
				</div>
				
				<div *ngIf="usePricingPolicy || useUsetermsPolicy 
				            || usePrivacityPolicy || useUsecontractPolicy" 
				     class="btn-group" ngbDropdown 
				     role="group" aria-label="Políticas do Site" #drdPolitics="ngbDropdown">
				    <button class="btn btn-outline-info" 
				            ngbDropdownToggle 
				            style="padding: 0; margin: 0.1em 0.1em 0 0.25em;" 
				            tabIndex="0">
				    	Políticas do Site
				    </button>
				    <div class="dropdown-menu" ngbDropdownMenu>
				    	<button class="dropdown-item {{ mainpageNumber == 1 ? 'active' : '' }}" 
				    	        *ngIf="usePricingPolicy"
						        (click)="pricingPolicy(); drdPolitics.close();" 
						        tabIndex="0">
							Política de Preços
						</button>
						<button class="dropdown-item {{ mainpageNumber == 2 ? 'active' : '' }}" 
						        *ngIf="useUsetermsPolicy"
						        (click)="userTerms(); drdPolitics.close();" 
						        tabIndex="0">
							Termos de Uso
						</button>
						<button class="dropdown-item {{ mainpageNumber == 3 ? 'active' : '' }}" 
						        *ngIf="usePrivacityPolicy"
						        (click)="privacityPolicy(); drdPolitics.close();" 
						        tabIndex="0">
							Política de Privacidade
						</button>
						<button class="dropdown-item {{ mainpageNumber == 4 ? 'active' : '' }}" 
						        *ngIf="useUsecontractPolicy"
						        (click)="useContract(); drdPolitics.close();" 
						        tabIndex="0">
							Contrato de Cliente
						</button>
				    </div>
				</div>
				
			</div>
		    <div class="top-right">
		    	<div *ngIf="!logged" class="btn-group" ngbDropdown 
		    	     role="group" aria-label="A&ccedil;&otilde;es de login" #drdLogin="ngbDropdown">
				    <rich-dropdown-button label="Login" 
				                          forToggle="true" 
				                          ngbDropdownToggle>
				    </rich-dropdown-button>
				    <div class="dropdown-menu" ngbDropdownMenu>
				    	<rich-dropdown-button label="Efetuar Login"  
				    	                      [activated]="view == 'login'"
						                      (clickEmitter)="login()"
						                      (clickEmitter1)="drdLogin.close()">
						</rich-dropdown-button>
						<rich-dropdown-button label="Registre-se"  
						                      [activated]="view == 'register'"
						                      [noRender]="!(modulesNames.includes('register'))"
						                      (clickEmitter)="register()"
						                      (clickEmitter1)="drdLogin.close()">
						</rich-dropdown-button>
				    </div>
				</div>
				<div *ngIf="logged" class="btn-group" ngbDropdown 
				     role="group" aria-label="A&ccedil;&otilde;es do usu&aacute;rio logado"  
				     #drdLogin="ngbDropdown">
				    <rich-dropdown-button label="{{ logged.name }}" 
				                          forToggle="true" 
				                          ngbDropdownToggle>
				    </rich-dropdown-button>
				    <div class="dropdown-menu" ngbDropdownMenu>
				    	<rich-dropdown-button label="Efetuar Logout"  
						                      (clickEmitter)="logout()"
						                      (clickEmitter1)="drdLogin.close()">
						</rich-dropdown-button>
						<rich-dropdown-button label="Trocar Senha" 
						                      [activated]="view == 'changePassword'" 
						                      (clickEmitter)="changeMyPassword()"
						                      (clickEmitter1)="drdLogin.close()">
						</rich-dropdown-button>
				    </div>
				</div>
		    </div>
		    <div style="clear: both;"></div>
		    <div *ngIf="logged && showMenuOnTop" class="subHeaderMenuTop">
		    	<div class="field">
	
					<div class="field" *ngIf="masterButtons || adminButtons">
			    		<div class="btn-group" ngbDropdown role="group" 
			    		     aria-label="Configura&ccedil;&otilde;es" #drd1="ngbDropdown">
						    <rich-dropdown-button label="Configura&ccedil;&otilde;es" 
						                          forToggle="true"
						                          ngbDropdownToggle>
							</rich-dropdown-button>
						    <div class="dropdown-menu" ngbDropdownMenu>
						    	<rich-dropdown-button label="Configura&ccedil;&otilde;es da Aplica&ccedil;&atilde;o" 
						    	                      [activated]="view == 'appconfigs'" 
						    	                      [noRender]="!masterButtons"
								                      (clickEmitter)="appconfigsView()"
								                      (clickEmitter1)="drd1.close()">
								</rich-dropdown-button>
						    	<rich-dropdown-button label="M&oacute;dulos da Aplica&ccedil;&atilde;o" 
						    	                      [activated]="view == 'modules'" 
						    	                      [noRender]="!masterButtons"
								                      (clickEmitter)="modulesView()"
								                      (clickEmitter1)="drd1.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Configura&ccedil;&otilde;es AWS S3" 
						    	                      [activated]="view == 's3configs'" 
						    	                      [noRender]="!s3uploadButtons"
								                      (clickEmitter)="s3configsView()"
								                      (clickEmitter1)="drd1.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Envio de E-mails" 
						    	                      [activated]="view == 'mailerconfigs'" 
						    	                      [noRender]="!mailerconfigButtons"
								                      (clickEmitter)="mailerconfigsView()"
								                      (clickEmitter1)="drd1.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Categoria Produtos" 
								                      [activated]="view == 'categoryproducts'" 
								                      [noRender]="!masterButtons"
								                      (clickEmitter)="categoryproductsView()"
								                      (clickEmitter1)="drd1.close()">
								</rich-dropdown-button>
						    </div>
						</div>
			    	</div>
			    	<div class="field">
			    		<div class="btn-group" ngbDropdown role="group" 
			    		     aria-label="Gerenciar" #drd2="ngbDropdown">
						    <rich-dropdown-button label="Gerenciar" 
						                          forToggle="true"
						                          ngbDropdownToggle>
						    </rich-dropdown-button>
						    <div class="dropdown-menu" ngbDropdownMenu>
								<rich-dropdown-button label="Enviar E-mail" 
						    	                      [activated]="view == 'simplemails'" 
						    	                      [noRender]="!simplemailButtonsManager"
								                      (clickEmitter)="simplemailsView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Arquivos" 
						    	                      [activated]="view == 'files'" 
						    	                      [noRender]="!fileButtonsManager"
								                      (clickEmitter)="filesView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Imagens" 
						    	                      [activated]="view == 'images'" 
						    	                      [noRender]="!fullButtonsManager"
								                      (clickEmitter)="imagesView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Produtos" 
						    	                      [activated]="view == 'products'" 
						    	                      [noRender]="!fullButtonsManager"
								                      (clickEmitter)="productsView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Pessoas / Usu&aacute;rios" 
						    	                      [activated]="view == 'users'" 
						    	                      [noRender]="!userButtonsManager"
								                      (clickEmitter)="usersView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
								<rich-dropdown-button label="Logs Aplica&ccedil;&atilde;o" 
						    	                      [activated]="view == 'applogs'" 
						    	                      [noRender]="!applogButtonsManager"
								                      (clickEmitter)="applogsView()"
								                      (clickEmitter1)="drd2.close()">
								</rich-dropdown-button>
						    </div>
						</div>
			    	</div>
			    	<div style="clear: both;"></div>
		    	</div>
		    	<div style="clear: both;"></div>
		    </div>
		</div>
	</header>
	
	<div *ngIf="mainpageNumber >= 0 && logged && showMenuOnTop" class="clear"></div>
	
	<div class="container" style="margin-top: .3rem !important;">
	    <div class="row justify-content-center">
	    	
			<div *ngIf="mainpageNumber >= 0 && logged" 
			     class="col-md-2 noPrint menuLeft" style="padding: 0em 0.3em;">
				<nav aria-label="Navega&ccedil;&atilde;o principal do usu&aacute;rio logado">
	
					<div class="card" 
					     style="margin-bottom: 0.4em;" 
					     *ngIf="masterButtons || adminButtons">
				        <rich-menu-button label="Configura&ccedil;&otilde;es" 
				                          (clickEmitter)="showMenuIndex(1)" 
						                  [activated]="activeMenuIndex == 1"
						                  forToggle="true">
						</rich-menu-button>
				        <div class="card-body" *ngIf="activeMenuIndex == 1">
					        <div class="list-group">
					        	<rich-menu-button label="Configura&ccedil;&otilde;es da Aplica&ccedil;&atilde;o" 
					        	                  (clickEmitter)="appconfigsView()" 
								                  [activated]="view == 'appconfigs'" 
								                  [noRender]="!masterButtons">
								</rich-menu-button>
						    	<rich-menu-button label="M&oacute;dulos da Aplica&ccedil;&atilde;o" 
						    	                  (clickEmitter)="modulesView()" 
								                  [activated]="view == 'modules'" 
								                  [noRender]="!masterButtons">
								</rich-menu-button>
						    	<rich-menu-button label="Configura&ccedil;&otilde;es AWS S3" 
						    	                  (clickEmitter)="s3configsView()" 
								                  [activated]="view == 's3configs'" 
								                  [noRender]="!s3uploadButtons">
								</rich-menu-button>
								<rich-menu-button label="Envio de E-mails" 
								                  (clickEmitter)="mailerconfigsView()" 
								                  [activated]="view == 'mailerconfigs'" 
								                  [noRender]="!mailerconfigButtons">
								</rich-menu-button>
								<rich-menu-button label="Categoria Produtos" 
								                  (clickEmitter)="categoryproductsView()" 
								                  [activated]="view == 'categoryproducts'" 
								                  [noRender]="!masterButtons">
								</rich-menu-button>
					        </div>
					    </div>
					</div>
					
				    <div class="card">
				        <rich-menu-button label="Gerenciar" 
				                          (clickEmitter)="showMenuIndex(2)" 
						                  [activated]="activeMenuIndex == 2"
						                  forToggle="true">
						</rich-menu-button>
				        <div class="card-body" *ngIf="activeMenuIndex == 2">
					        <div class="list-group">
						    	<rich-menu-button label="Enviar E-mail" 
						    	                  (clickEmitter)="simplemailsView()" 
								                  [activated]="view == 'simplemails'" 
								                  [noRender]="!simplemailButtonsManager">
								</rich-menu-button>
							    <rich-menu-button label="Arquivos" 
							                      (clickEmitter)="filesView()" 
								                  [activated]="view == 'filesView()'" 
								                  [noRender]="!fileButtonsManager">
								</rich-menu-button>
						    	<rich-menu-button label="Imagens" 
						    	                  (clickEmitter)="imagesView()" 
								                  [activated]="view == 'images'" 
								                  [noRender]="!fullButtonsManager">
								</rich-menu-button>
								<rich-menu-button label="Produtos" 
						    	                  (clickEmitter)="productsView()" 
								                  [activated]="view == 'products'" 
								                  [noRender]="!fullButtonsManager">
								</rich-menu-button>
						    	<rich-menu-button label="Pessoas / Usu&aacute;rios" 
						    	                  (clickEmitter)="usersView()" 
								                  [activated]="view == 'users'" 
								                  [noRender]="!userButtonsManager">
								</rich-menu-button>
								<rich-menu-button label="Logs Aplica&ccedil;&atilde;o" 
								                  (clickEmitter)="applogsView()" 
								                  [activated]="view == 'applogs'" 
								                  [noRender]="!applogButtonsManager">
								</rich-menu-button>
							</div>
						</div>
				    </div>
				</nav>
			</div>
			<div class="{{ mainpageNumber == -1 ? 'col-md-12' : 'col-md-10' }}" 
			     [ngStyle]="(mainpageNumber == -1) && {'width':'100%'}"
			     style="padding: 0em 0.3em;">
				<main>
				    <div class="{{ (!emptyString(viewTitle) || mainpageNumber == -1) ? 'card' : 'none' }}">
				        <div class="{{ !emptyString(viewTitle) ? 'card-header noPrint' : 'none' }}" 
				             [innerHtml]="viewTitle"></div>
				        <div class="card-body">
				        	<router-outlet></router-outlet>
				        </div>
				    </div>
				</main>
			</div>
		</div>
	</div>
	
	<div style="z-index: 1000050;" 
	     aria-hidden="true" 
	     class="modal-backdrop fade show" 
	     *ngIf="informationMessage">
	</div>
	<div style="z-index: 1000050 !important;"
		 role="dialog" 
	     tabindex="-1" 
	     class="modal fade show d-block" 
	     aria-modal="true" 
	     aria-labelledby="modal-basic-title" 
	     *ngIf="informationMessage">
		<div role="document" class="modal-dialog modal-lg modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="modal-basic-title">{{informationMessage.header}}</h4>
					<button aria-label="Close" class="close" type="button" (click)="informationMessage = null;">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
				  	<div [innerHtml]="informationMessage.content"></div>
				</div>
			</div>
		</div>
	</div>

</div>