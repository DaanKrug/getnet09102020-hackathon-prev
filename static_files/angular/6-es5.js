function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var r=_superPropBase(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(a):o.value}})(e,t,a||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ZMR0:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var r=a("fXoL"),o=a("1dEi"),i=a("3Pt+"),n=a("ofXK");function s(e,t){1&e&&r.Ob(0,"div",3)}function c(e,t){1&e&&r.Ob(0,"div",4)}function l(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"label",12),r.Dc(2),r.Rb(),r.Rb()),2&e){var a=r.gc(2);r.zb(1),r.kc("for",a.id),r.kc("title",a.titlee),r.Ab("aria-label",a.titlee),r.zb(1),r.Ec(a.label)}}function d(e,t){if(1&e){var a=r.Tb();r.Sb(0,"input",13),r.ec("change",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)}))("blur",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)})),r.Rb()}if(2&e){var o=r.gc(2);r.Cb("form-control ",o.className,""),r.kc("id",o.id),r.kc("maxlength",o.maxchars>0?o.maxchars:250),r.jc("formControl",o.ngControl.control)("placeholder",o.placeholderr)}}function u(e,t){if(1&e){var a=r.Tb();r.Sb(0,"input",14),r.ec("change",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)}))("blur",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)})),r.Rb()}if(2&e){var o=r.gc(2);r.Cb("form-control ",o.className,""),r.kc("id",o.id),r.kc("maxlength",o.maxchars>0?o.maxchars:20),r.kc("mask",o.maskk),r.jc("dropSpecialCharacters",!o.preserveSpecialCharacters)("formControl",o.ngControl.control)("placeholder",o.placeholderr)}}function f(e,t){if(1&e){var a=r.Tb();r.Sb(0,"input",15),r.ec("change",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)}))("keyup",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)})),r.Rb()}if(2&e){var o=r.gc(2);r.Cb("form-control ",o.className,""),r.kc("id",o.id),r.kc("maxlength",o.maxchars>0?o.maxchars:250),r.kc("mask",o.maskk),r.jc("dropSpecialCharacters",!o.preserveSpecialCharacters)("formControl",o.ngControl.control)("placeholder",o.placeholderr)}}function m(e,t){if(1&e){var a=r.Tb();r.Sb(0,"textarea",16),r.ec("change",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)}))("keyup",(function(e){return r.uc(a),r.gc(2).onChangeValue(e)})),r.Dc(1,"\t"),r.Rb()}if(2&e){var o=r.gc(2);r.Cb("form-control ",o.className,""),r.kc("id",o.id),r.kc("rows",o.rowss),r.kc("maxlength",o.maxchars>0?o.maxchars:250*o.rowss),r.jc("formControl",o.ngControl.control)("placeholder",o.placeholderr)}}var g=function(e){return{width:e}};function h(e,t){if(1&e&&(r.Sb(0,"div",5),r.Bc(1,l,3,4,"div",6),r.Bc(2,d,1,7,"input",7),r.Bc(3,u,1,9,"input",8),r.Bc(4,f,1,9,"input",9),r.Bc(5,m,2,8,"textarea",10),r.Ob(6,"div",11),r.Rb()),2&e){var a=r.gc();r.jc("ngStyle",r.nc(6,g,a.widthPerc+"%")),r.zb(1),r.jc("ngIf",null!=a.label),r.zb(1),r.jc("ngIf",a.forPassword),r.zb(1),r.jc("ngIf",!a.forPassword&&a.forNumber),r.zb(1),r.jc("ngIf",!a.forPassword&&!a.forNumber&&1==a.rowss),r.zb(1),r.jc("ngIf",!a.forPassword&&!a.forNumber&&a.rowss>1)}}function b(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"label",12),r.Dc(2),r.Rb(),r.Rb()),2&e){var a=r.gc(2);r.zb(1),r.kc("for",a.id),r.kc("title",a.titlee),r.Ab("aria-label",a.titlee),r.zb(1),r.Ec(a.label)}}function p(e,t){if(1&e&&r.Ob(0,"input",21),2&e){var a=r.gc(2);r.Cb("form-control ",a.className,""),r.kc("id",a.id),r.jc("formControl",a.ngControl.control)}}function v(e,t){if(1&e&&r.Ob(0,"input",22),2&e){var a=r.gc(2);r.Cb("form-control ",a.className,""),r.kc("id",a.id),r.jc("formControl",a.ngControl.control)}}function w(e,t){if(1&e&&r.Ob(0,"input",23),2&e){var a=r.gc(2);r.Cb("form-control ",a.className,""),r.kc("id",a.id),r.jc("formControl",a.ngControl.control)}}function C(e,t){if(1&e&&(r.Sb(0,"textarea",24),r.Dc(1,"\t"),r.Rb()),2&e){var a=r.gc(2);r.Cb("form-control ",a.className,""),r.kc("id",a.id),r.kc("rows",a.rowss),r.jc("formControl",a.ngControl.control)}}function y(e,t){if(1&e&&(r.Sb(0,"div",5),r.Bc(1,b,3,4,"div",6),r.Bc(2,p,1,5,"input",17),r.Bc(3,v,1,5,"input",18),r.Bc(4,w,1,5,"input",19),r.Bc(5,C,2,6,"textarea",20),r.Ob(6,"div",11),r.Rb()),2&e){var a=r.gc();r.jc("ngStyle",r.nc(6,g,a.widthPerc+"%")),r.zb(1),r.jc("ngIf",null!=a.label),r.zb(1),r.jc("ngIf",a.forPassword),r.zb(1),r.jc("ngIf",!a.forPassword&&a.forNumber),r.zb(1),r.jc("ngIf",!a.forPassword&&!a.forNumber&&1==a.rowss),r.zb(1),r.jc("ngIf",!a.forPassword&&!a.forNumber&&a.rowss>1)}}var k=function(){var e=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).ngControl=e,a.valueChangedEmitter=new r.n,a}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(t.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this),this.forNumber=null,this.forAlphaNum=null,this.forAlphaNumName=null,this.forAlpha=null,this.forMail=null,this.forPassword=null,this.valueChangedEmitter=null}},{key:"onChangeValue",value:function(e){var t=e.target.value.trim();this.forNumber?this.adjustInputNumberValueAfterChange(t):this.forAlphaNum?this.adjustInputAlphaNumValueAfterChange(t):this.forAlphaNumName?this.adjustInputAlphaNumNameValueAfterChange(t):this.forAlpha?this.adjustInputAlphaValueAfterChange(t):this.forMail?this.adjustInputTextMailAddressValueAfterChange(t):this.forPassword?this.valueChangedEmitter.emit(t):this.adjustInputTextValueAfterChange(t)}}]),t}(o.a);return e.\u0275fac=function(t){return new(t||e)(r.Nb(i.l))},e.\u0275cmp=r.Hb({type:e,selectors:[["rich-input-text"]],inputs:{forNumber:"forNumber",forAlphaNum:"forAlphaNum",forAlphaNumName:"forAlphaNumName",forAlpha:"forAlpha",forMail:"forMail",forPassword:"forPassword"},outputs:{valueChangedEmitter:"valueChangedEmitter"},features:[r.wb],decls:4,vars:4,consts:[["class","clear","style","margin-bottom: .3em;",4,"ngIf"],["class","clear","style","margin-bottom: .7em;",4,"ngIf"],["class","field",3,"ngStyle",4,"ngIf"],[1,"clear",2,"margin-bottom",".3em"],[1,"clear",2,"margin-bottom",".7em"],[1,"field",3,"ngStyle"],[4,"ngIf"],["type","password","style","width: 100% !important;","autocomplete","off",3,"id","maxlength","class","formControl","placeholder","change","blur",4,"ngIf"],["type","text","style","width: 100% !important; text-align: right;","autocomplete","off",3,"id","maxlength","class","mask","dropSpecialCharacters","formControl","placeholder","change","blur",4,"ngIf"],["type","text","style","width: 100% !important;","autocomplete","off",3,"id","maxlength","class","mask","dropSpecialCharacters","formControl","placeholder","change","keyup",4,"ngIf"],["style","width: 100% !important;","autocomplete","off",3,"id","rows","maxlength","class","formControl","placeholder","change","keyup",4,"ngIf"],[1,"clear"],[3,"for","title"],["type","password","autocomplete","off",2,"width","100% !important",3,"id","maxlength","formControl","placeholder","change","blur"],["type","text","autocomplete","off",2,"width","100% !important","text-align","right",3,"id","maxlength","mask","dropSpecialCharacters","formControl","placeholder","change","blur"],["type","text","autocomplete","off",2,"width","100% !important",3,"id","maxlength","mask","dropSpecialCharacters","formControl","placeholder","change","keyup"],["autocomplete","off",2,"width","100% !important",3,"id","rows","maxlength","formControl","placeholder","change","keyup"],["type","password","style","width: 100% !important;","readonly","true",3,"id","class","formControl",4,"ngIf"],["type","text","style","width: 100% !important; text-align: right;","readonly","true",3,"id","class","formControl",4,"ngIf"],["type","text","style","width: 100% !important;","readonly","true",3,"id","class","formControl",4,"ngIf"],["style","width: 100% !important;","readonly","true",3,"id","rows","class","formControl",4,"ngIf"],["type","password","readonly","true",2,"width","100% !important",3,"id","formControl"],["type","text","readonly","true",2,"width","100% !important","text-align","right",3,"id","formControl"],["type","text","readonly","true",2,"width","100% !important",3,"id","formControl"],["readonly","true",2,"width","100% !important",3,"id","rows","formControl"]],template:function(e,t){1&e&&(r.Bc(0,s,1,0,"div",0),r.Bc(1,c,1,0,"div",1),r.Bc(2,h,7,8,"div",2),r.Bc(3,y,7,8,"div",2)),2&e&&(r.jc("ngIf",t.breakBefore&&!t.breakBeforeDouble&&!t.noRender),r.zb(1),r.jc("ngIf",t.breakBeforeDouble&&!t.noRender),r.zb(1),r.jc("ngIf",!t.noRender&&!t.onlyRead),r.zb(1),r.jc("ngIf",!t.noRender&&t.onlyRead))},directives:[n.j,n.k,i.b,i.i,i.m,i.d],encapsulation:2}),e}()},kIcU:function(e,t,a){"use strict";a.r(t);var r=a("ofXK"),o=a("3Pt+"),i=a("1kSV"),n=a("tyNb"),s=a("kYp3"),c=a("fXoL"),l=a("ZMR0"),d=a("fCXb");function u(e,t){1&e&&c.Ob(0,"div",3)}function f(e,t){if(1&e){var a=c.Tb();c.Sb(0,"input",15),c.ec("click",(function(e){return c.uc(a),c.gc(2).generateCaptcha(!0)})),c.Rb()}if(2&e){var r=c.gc(2);c.lc("id","iamnotrobot_",r.id,"")}}function m(e,t){if(1&e){var a=c.Tb();c.Sb(0,"input",16),c.ec("click",(function(e){return c.uc(a),c.gc(2).generateCaptcha(!1)})),c.Rb()}if(2&e){var r=c.gc(2);c.lc("id","iamnotrobot_",r.id,"")}}function g(e,t){if(1&e){var a=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",4),c.Sb(2,"div",5),c.Bc(3,f,1,1,"input",6),c.Bc(4,m,1,1,"input",7),c.Rb(),c.Sb(5,"div",8),c.Sb(6,"label",9),c.Dc(7," Eu n\xe3o sou um rob\xf4, tenho certeza. "),c.Rb(),c.Rb(),c.Rb(),c.Ob(8,"div",10),c.Sb(9,"div",11),c.Sb(10,"div"),c.Sb(11,"label",12),c.Dc(12,"Captcha"),c.Rb(),c.Rb(),c.Sb(13,"div",13),c.Dc(14),c.Rb(),c.Rb(),c.Sb(15,"div",11),c.Sb(16,"div"),c.Sb(17,"label",12),c.Dc(18,"Digite o Captcha (*)"),c.Rb(),c.Rb(),c.Sb(19,"input",14),c.ec("keyup",(function(e){return c.uc(a),c.gc().onkeyup(e)}))("change",(function(e){return c.uc(a),c.gc().onkeyup(e)})),c.Rb(),c.Rb(),c.Ob(20,"div",10),c.Rb()}if(2&e){var r=c.gc();c.zb(3),c.jc("ngIf",null==r.captcha),c.zb(1),c.jc("ngIf",null!=r.captcha),c.zb(2),c.lc("for","iamnotrobot_",r.id,""),c.zb(5),c.lc("for","captcha_",r.id,""),c.zb(2),c.lc("id","captcha_",r.id,""),c.zb(1),c.Fc(" ",r.captcha," "),c.zb(3),c.lc("for","reCaptcha_",r.id,""),c.zb(2),c.lc("id","reCaptcha_",r.id,"")}}function h(e,t){1&e&&c.Ob(0,"div",17)}var b,p=((b=function(){function e(t){_classCallCheck(this,e),this.stringService=t,this.captchaOkEmitter=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.id=(new Date).getTime()+"_"+this.stringService.generateCode3(3),this.captchaOkEmitter.emit(!1)}},{key:"ngOnDestroy",value:function(){this.id=null,this.captcha=null,clearTimeout(this.timeout),this.timeout=null,this.noRender=null,this.captchaOkEmitter=null}},{key:"generateCaptcha",value:function(e){if(null!=this.captchaOkEmitter){this.captcha=e?this.stringService.generateCode4(2).toLowerCase():null;var t=document.getElementById("reCaptcha_"+this.id);null!=t&&(t.value=""),this.captchaOkEmitter.emit(!1)}}},{key:"onkeyup",value:function(e){var t=this,a=e.target.value.trim(),r=null!=this.captcha&&""!=this.captcha.trim()&&this.captcha.trim()==a;this.captchaOkEmitter.emit(r),r?this.timeout=setTimeout((function(){t.generateCaptcha(!1)}),1e4):(clearTimeout(this.timeout),this.timeout=null)}}]),e}()).\u0275fac=function(e){return new(e||b)(c.Nb(d.a))},b.\u0275cmp=c.Hb({type:b,selectors:[["captcha"]],inputs:{noRender:"noRender"},outputs:{captchaOkEmitter:"captchaOkEmitter"},decls:3,vars:3,consts:[["class","clear","style","margin-bottom: .3em;",4,"ngIf"],[4,"ngIf"],["class","clear","style","margin-bottom: .1em;",4,"ngIf"],[1,"clear",2,"margin-bottom",".3em"],[1,"field","fieldset",2,"width","98%","padding-top",".3em","margin-bottom","0"],[1,"field",2,"width","1.7em"],["type","checkbox",3,"id","click",4,"ngIf"],["type","checkbox","checked","checked",3,"id","click",4,"ngIf"],[1,"field","label",2,"width","calc(99% - 2em)"],[1,"clickable",2,"display","block",3,"for"],[1,"clear"],[1,"field",2,"width","49%"],[3,"for"],[1,"form-control","disabled",3,"id"],["type","text","maxlength","8",1,"form-control",2,"width","100%",3,"id","keyup","change"],["type","checkbox",3,"id","click"],["type","checkbox","checked","checked",3,"id","click"],[1,"clear",2,"margin-bottom",".1em"]],template:function(e,t){1&e&&(c.Bc(0,u,1,0,"div",0),c.Bc(1,g,21,8,"div",1),c.Bc(2,h,1,0,"div",2)),2&e&&(c.jc("ngIf",!t.noRender),c.zb(1),c.jc("ngIf",!t.noRender),c.zb(1),c.jc("ngIf",!t.noRender))},directives:[r.j],encapsulation:2}),b),v=a("Th3u"),w=a("n/9U");function C(e,t){if(1&e&&(c.Sb(0,"div",19),c.Ob(1,"i",20),c.Ob(2,"span",21),c.Rb()),2&e){var a=t.$implicit;c.zb(2),c.jc("innerHtml",a,c.vc)}}function y(e,t){if(1&e&&(c.Sb(0,"div",17),c.Bc(1,C,3,1,"div",18),c.Rb()),2&e){var a=c.gc(2);c.zb(1),c.jc("ngForOf",a.validationMessages)}}function k(e,t){if(1&e){var a=c.Tb();c.Sb(0,"button",22),c.ec("click",(function(e){return c.uc(a),c.gc(2).iLostPassword(!1)})),c.Ob(1,"i",23),c.Dc(2," Voltar "),c.Rb()}}function S(e,t){1&e&&(c.Sb(0,"button",24),c.Ob(1,"i",25),c.Dc(2," Recuperar Senha "),c.Rb())}function O(e,t){if(1&e){var a=c.Tb();c.Sb(0,"button",26),c.ec("click",(function(e){return c.uc(a),c.gc(2).iLostPassword(!0)})),c.Ob(1,"i",27),c.Dc(2," Esqueci a Senha "),c.Rb()}}function P(e,t){if(1&e){var a=c.Tb();c.Sb(0,"button",28),c.ec("click",(function(e){return c.uc(a),c.gc(2).cancelData()})),c.Ob(1,"i",29),c.Dc(2," Cancelar "),c.Rb()}}function R(e,t){1&e&&(c.Sb(0,"button",30),c.Ob(1,"i",25),c.Dc(2," Login "),c.Rb())}function j(e,t){if(1&e){var a=c.Tb();c.Sb(0,"div"),c.Sb(1,"form",1),c.ec("ngSubmit",(function(e){return c.uc(a),c.gc().onLoginFormSubmit()})),c.Sb(2,"div",2),c.Sb(3,"div"),c.Ob(4,"rich-input-text",3),c.Ob(5,"rich-input-text",4),c.Ob(6,"rich-input-text",5),c.Ob(7,"div",6),c.Rb(),c.Sb(8,"captcha",7),c.ec("captchaOkEmitter",(function(e){return c.uc(a),c.gc().setCaptchaOk(e)})),c.Rb(),c.Sb(9,"div",8),c.Bc(10,y,2,1,"div",9),c.Rb(),c.Rb(),c.Sb(11,"div",10),c.Bc(12,k,3,0,"button",11),c.Bc(13,S,3,0,"button",12),c.Bc(14,O,3,0,"button",13),c.Bc(15,P,3,0,"button",14),c.Bc(16,R,3,0,"button",15),c.Rb(),c.Sb(17,"div",16),c.Sb(18,"div"),c.Dc(19,"* Campos de preenchimento obrigat\xf3rio."),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&e){var r=c.gc();c.zb(1),c.jc("formGroup",r.loginForm),c.zb(3),c.jc("formGroup",r.loginForm),c.zb(1),c.jc("formGroup",r.loginForm)("forPassword",!0)("noRender",r.lostPassword),c.zb(1),c.jc("formGroup",r.loginForm)("noRender",null==r.loginConfirmation||r.lostPassword),c.zb(2),c.jc("noRender",r.tryTimes<1),c.zb(2),c.jc("ngIf",r.validationMessages&&r.processValidation),c.zb(2),c.jc("ngIf",r.lostPassword),c.zb(1),c.jc("ngIf",r.lostPassword),c.zb(1),c.jc("ngIf",!r.lostPassword),c.zb(1),c.jc("ngIf",!r.lostPassword),c.zb(1),c.jc("ngIf",!r.lostPassword)}}function I(e,t){if(1&e){var a=c.Tb();c.Sb(0,"div"),c.Sb(1,"form",1),c.ec("ngSubmit",(function(e){return c.uc(a),c.gc().onObjectFormSubmit()})),c.Sb(2,"div",2),c.Ob(3,"rich-input-text",31),c.Ob(4,"rich-input-text",32),c.Sb(5,"rich-input-text",33),c.ec("valueChangedEmitter",(function(e){return c.uc(a),c.gc().validatePasswordForce(e)})),c.Rb(),c.Ob(6,"rich-input-text",34),c.Ob(7,"rich-checkbox",35),c.Sb(8,"captcha",36),c.ec("captchaOkEmitter",(function(e){return c.uc(a),c.gc().setCaptchaOk(e)})),c.Rb(),c.Ob(9,"div",6),c.Rb(),c.Sb(10,"form-action",37),c.ec("cancelDataEmitter",(function(e){return c.uc(a),c.gc().cancelData()})),c.Rb(),c.Rb(),c.Rb()}if(2&e){var r=c.gc();c.zb(1),c.jc("formGroup",r.dataForm),c.zb(2),c.jc("formGroup",r.dataForm),c.zb(1),c.jc("formGroup",r.dataForm),c.zb(1),c.jc("formGroup",r.dataForm),c.zb(1),c.jc("formGroup",r.dataForm),c.zb(4),c.jc("validationMessages",r.validationMessages)("processValidation",r.processValidation)("passwordValidationMessage",r.passwordValidationMessage)}}function _(e,t){if(1&e){var a=c.Tb();c.Sb(0,"div"),c.Sb(1,"form",1),c.ec("ngSubmit",(function(e){return c.uc(a),c.gc().onChangePasswordFormSubmit()})),c.Sb(2,"div"),c.Ob(3,"rich-input-text",38),c.Sb(4,"rich-input-text",39),c.ec("valueChangedEmitter",(function(e){return c.uc(a),c.gc().validatePasswordForce(e)})),c.Rb(),c.Ob(5,"rich-input-text",40),c.Ob(6,"div",6),c.Rb(),c.Sb(7,"form-action",41),c.ec("cancelDataEmitter",(function(e){return c.uc(a),c.gc().cancelData()})),c.Rb(),c.Rb(),c.Rb()}if(2&e){var r=c.gc();c.zb(1),c.jc("formGroup",r.changePasswordForm),c.zb(2),c.jc("formGroup",r.changePasswordForm),c.zb(1),c.jc("formGroup",r.changePasswordForm),c.zb(1),c.jc("formGroup",r.changePasswordForm),c.zb(2),c.jc("validationMessages",r.validationMessages)("processValidation",r.processValidation)("passwordValidationMessage",r.passwordValidationMessage)}}var M,V,x=((M=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.setInitializationServices(["user"]),this.crudService=this.userService,this.view=this.storageService.get()[0],this.tryTimes=0,this.setCaptchaOk(!1),this.sucessErrorMessages={200:"Registro efetuado com sucesso.<br/>Aguarde envio do e-mail...",210:"Registro efetuado com sucesso.<br/>Acesse seu e-mail e efetue a ativa\xe7\xe3o do acesso.",211:"Troca de senha efetuada com sucesso.",202:"Solicita\xe7\xe3o realizada. Enviaremos Nova senha e Novo c\xf3digo  de confirma\xe7\xe3o por e-mail, caso a conta realmente exista."},this.dataForm=new o.f({name:new o.c("",[o.r.required]),email:new o.c("",[o.r.required,o.r.email]),password:new o.c("",[o.r.required]),re_password:new o.c("",[o.r.required]),acceptTerms:new o.c("",[])}),this.changePasswordForm=new o.f({password:new o.c("",[o.r.required]),new_password:new o.c("",[o.r.required]),re_new_password:new o.c("",[o.r.required])}),this.loginForm=new o.f({email:new o.c("",[o.r.required,o.r.email]),password:new o.c("",[o.r.required]),confirmation_code:new o.c("",[])}),_get(_getPrototypeOf(t.prototype),"ngOnInit",this).call(this)}},{key:"afterNgOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.loginForm=null,this.changePasswordForm=null,this.lostPassword=null,this.confirmationCodeError=null,this.loginConfirmation=null,this.passwordValidationMessage=null,this.tryTimes=null,this.view=null,this.captchaOk=null,_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"listData",value:function(){}},{key:"setObject",value:function(e){_get(_getPrototypeOf(t.prototype),"setObject",this).call(this,e),this.dataForm.setValue({name:e.name,email:e.email,password:e.password,re_password:null,acceptTerms:!1})}},{key:"setCaptchaOk",value:function(e){this.captchaOk=e}},{key:"onLoginFormSubmit",value:function(){var e=this;if(this.processValidation=!0,this.validationMessages=[],this.canceling)return this.canceling=!1,this.loginForm.reset(),this.clearMessages(0),void this.setProcessing(!1);if(this.lostPassword)this.recoverPassword();else if(this.confirmationCodeError=!1,this.emptyString(this.loginConfirmation))this.makeLogin();else{var t=this.loginForm.value;this.loginConfirmation==t.confirmation_code.trim()?(this.setProcessing(!0),this.userService.loadForActivation(t).then((function(t){!e.emptyObject(t)&&e.processObjectAndValidationResult(t,!1)?e.userService.activateUser(t).then((function(t){e.processObjectAndValidationResult(t,!1)?e.makeLogin():e.setConfirmationError()})):e.setLoginError()}))):this.setConfirmationError()}}},{key:"setConfirmationError",value:function(){this.confirmationCodeError=!0,this.addValidationMessage("C\xf3digo de Confirma\xe7\xe3o diferente do enviado por e-mail!"),this.setProcessing(!1)}},{key:"setLoginError",value:function(){this.addValidationMessage("Login e/ou Senha inv\xe1lido(s)!"),this.setProcessing(!1)}},{key:"setLoginErrorTreece",value:function(){this.tryTimes<=2?this.setLoginError():(this.addValidationMessage("Tentativas de login fracassadas: 3.<br/>Aguarde 5 minutos para tentar novamente."),this.setProcessing(!1))}},{key:"validateLoginForm",value:function(){return this.errorRequiredForm(this.loginForm,"email")&&this.addValidationMessage("Login \xe9 requerido!"),this.errorEmailForm(this.loginForm,"email")&&this.addValidationMessage("Login deve ser um endere\xe7o de email v\xe1lido!"),!this.lostPassword&&this.errorRequiredForm(this.loginForm,"password")&&this.addValidationMessage("Senha \xe9 requerida!"),!this.lostPassword&&this.errorRequiredForm(this.loginForm,"confirmation_code")&&this.addValidationMessage("C\xf3digo de Confirma\xe7\xe3o \xe9 requerido!"),this.tryTimes>0&&!this.captchaOk&&this.addValidationMessage("Captcha digitado n\xe3o confere!<br/>Confirme que n\xe3o \xe9 um rob\xf4 e digite o captcha corretamente!"),!this.inValidationMsgs()}},{key:"makeLogin",value:function(){var e=this;if(this.logged=null,this.processValidation=!0,this.validationMessages=[],this.validateLoginForm()){this.preProcessConfigurations();var t=this.loginForm.value;t.confirmation_code=null,this.tryTimes=0,this.userService.loginUser(t).then((function(t){return e.emptyObject(t)?(e.setLoginError(),e.tryTimes++,void(e.captchaOk=!1)):e.processObjectAndValidationResult(t,!1)?"404"==t.name.trim()?(e.tryTimes++,e.setLoginErrorTreece(),void(e.captchaOk=!1)):(e.loginConfirmation=null,e.emptyString(t.confirmation_code)?t.active?(e.logged=t,e.storageService.setAuthUser(e.logged),e.userServiceRouter.setLogged(e.logged),e.processValidation=!1,e.loginForm.reset(),e.clearMessages(null),e.setProcessing(!1),e.storageService.localStorageSetItem("_ownerId_"+e.getAppId(),""+e.logged.id,!1),e.storageService.localStorageSetItem("logged.category",""+e.logged.category,!1),void e.eventEmitterService.get("home").emit({object:e.logged})):(e.setLoginError(),e.tryTimes++,void(e.captchaOk=!1)):(e.loginConfirmation=t.confirmation_code.trim(),void e.setProcessing(!1))):(e.setProcessing(!1),e.tryTimes++,void(e.captchaOk=!1))}))}}},{key:"validateChangePasswordFormFields",value:function(){if(this.errorRequiredForm(this.changePasswordForm,"password")&&this.addValidationMessage("Senha \xe9 requerida!"),this.errorRequiredForm(this.changePasswordForm,"new_password")&&this.addValidationMessage("Nova Senha \xe9 requerida!"),this.errorRequiredForm(this.changePasswordForm,"re_new_password")&&this.addValidationMessage("Confirma\xe7\xe3o da Nova Senha \xe9 requerida!"),this.inValidationMsgs())return null;var e=this.changePasswordForm.value;if(e.password.trim()!=this.logged.password&&this.addValidationMessage("Senha n\xe3o confere!"),e.password.trim()==this.logged.password&&e.new_password.trim()==this.logged.password&&this.addValidationMessage("Nova Senha n\xe3o pode ser a senha atual!"),e.new_password.trim()!=e.re_new_password.trim()&&this.addValidationMessage("Confirma\xe7\xe3o da Nova Senha n\xe3o confere!"),this.inValidationMsgs())return null;var t=this.logged;return t.password=e.new_password.trim(),t.ownerId=parseInt(this.storageService.localStorageGetItem("_ownerId_"+this.getAppId())),t._token=this.storageService.localStorageGetItem("_token_"+this.getAppId()),t}},{key:"onChangePasswordFormSubmit",value:function(){var e=this;if(this.validationMessages=[],this.processValidation=!0,this.canceling)return this.canceling=!1,this.changePasswordForm.reset(),this.clearMessages(0),void this.setProcessing(!1);var t=this.validateChangePasswordFormFields();null!=t&&(this.setProcessing(!0),this.userService.update(t.id,t).then((function(a){if(e.processObjectAndValidationResult(a,!0))return e.logged.password=t.password,e.setStatusCode(211),e.changePasswordForm.reset(),e.clearMessages(null),void e.setProcessing(!1);e.logged.password=e.changePasswordForm.value.password.trim(),e.clearMessages(null),e.setProcessing(!1)})))}},{key:"prepareToSaveUpdate",value:function(e){return this.userService.prepareForRegistration(e)}},{key:"validateFormFields",value:function(){this.errorRequired("name")&&this.addValidationMessage("Nome \xe9 requerido!"),this.errorRequired("email")&&this.addValidationMessage("E-mail \xe9 requerido!"),this.errorEmail("email")&&this.addValidationMessage("E-mail deve ser um endere\xe7o de email v\xe1lido!"),this.errorRequired("password")&&this.addValidationMessage("Senha \xe9 requerida!"),this.errorRequired("re_password")&&this.addValidationMessage("Confirma\xe7\xe3o da Senha \xe9 requerida!");var e=this.dataForm.value;if(null==e.acceptTerms||!e.acceptTerms){var t="\xc9 necess\xe1rio que voc\xea declare que aceita as pol\xedticas do site.<br/>";this.addValidationMessage(t+=" Marque a caixa de sele\xe7\xe3o: <strong>Eu declaro que li na \xedntegra ...</strong>")}return this.captchaOk||(t="Captcha digitado n\xe3o confere!",this.addValidationMessage(t+="<br/>Confirme que n\xe3o \xe9 um rob\xf4 e digite o captcha corretamente!")),!this.inValidationMsgs()}},{key:"validatePasswordForce",value:function(e){if(this.validationMessages=[],this.processValidation=!1,this.passwordValidationMessage=null,!this.emptyString(e.trim())){var t=this.stringService.validatePassword(e,!0);200!=t.code?(this.processValidation=!0,this.addValidationMessage("["+t.code+"] "+t.msg)):this.passwordValidationMessage=t}}},{key:"preValidateToSaveUpdate",value:function(e){var t=this.stringService.validatePassword(e.password,!1);return 200!=t.code&&this.addValidationMessage("["+t.code+"] "+t.msg),e.password!=e.re_password&&this.addValidationMessage("A Confirma\xe7\xe3o da Senha n\xe3o confere com a Senha!"),this.stringService.validateEmail(e.email)||this.addValidationMessage("E-mail deve ser um endere\xe7o de email v\xe1lido!"),!this.inValidationMsgs()}},{key:"callbackAfterCreate",value:function(e){this.setStatusCode(210),this.clearMessages(3e3),this.setProcessing(!1)}},{key:"iLostPassword",value:function(e){this.lostPassword=e,this.validationMessages=[]}},{key:"recoverPassword",value:function(){var e=this;if(this.validateLoginForm()){var t=this.loginForm.value;t.ownerId=-1,this.setStatusCode(202),this.setProcessing(!0),this.userService.recoverPassword(t).then((function(t){e.processObjectAndValidationResult(t,!1),e.closeRecoverPassword()}))}}},{key:"closeRecoverPassword",value:function(){this.validationMessages=[],this.lostPassword=!1,this.loginForm.reset(),this.clearMessages(0),this.setProcessing(!1)}}]),t}(s.a)).\u0275fac=function(e){return F(e||M)},M.\u0275cmp=c.Hb({type:M,selectors:[["login-root"]],features:[c.wb],decls:3,vars:3,consts:[[3,"ngIf"],[1,"dataForm",3,"formGroup","ngSubmit"],[1,"form"],["label","Login (*)","titlee","Login/E-mail","maxchars","100","formControlName","email","widthPerc","98","ngDefaultControl","",3,"formGroup"],["label","Senha (*)","titlee","Senha","maxchars","100","formControlName","password","widthPerc","98","ngDefaultControl","",3,"formGroup","forPassword","noRender"],["label","C\xf3digo de Confirma\xe7\xe3o (*)","titlee","C\xf3digo de Confirma\xe7\xe3o","maxchars","20","formControlName","confirmation_code","widthPerc","98","ngDefaultControl","",3,"formGroup","noRender"],[1,"clear"],[3,"noRender","captchaOkEmitter"],[2,"margin-top","0.3rem"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",4,"ngIf"],[1,"buttons","clear"],["class","btn btn-primary clickable","style","padding: 0.3em;",3,"click",4,"ngIf"],["class","btn btn-primary clickable","style","padding: 0.3em;",4,"ngIf"],["class","btn btn-link","style","padding: 0.3em;",3,"click",4,"ngIf"],["class","btn btn-primary clickable","tabindex","0",3,"click",4,"ngIf"],["class","btn btn-primary clickable","tabindex","0",4,"ngIf"],[1,"alert","alert-info"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle"],[3,"innerHtml"],[1,"btn","btn-primary","clickable",2,"padding","0.3em",3,"click"],[1,"fas","fa-arrow-left"],[1,"btn","btn-primary","clickable",2,"padding","0.3em"],[1,"fas","fa-check"],[1,"btn","btn-link",2,"padding","0.3em",3,"click"],[1,"fas","fa-at"],["tabindex","0",1,"btn","btn-primary","clickable",3,"click"],[1,"fas","fa-ban"],["tabindex","0",1,"btn","btn-primary","clickable"],["label","Nome (*)","titlee","Nome","maxchars","30","forAlpha","true","formControlName","name","widthPerc","49","ngDefaultControl","",3,"formGroup"],["label","E-mail (*)","titlee","E-mail","maxchars","100","formControlName","email","widthPerc","49","ngDefaultControl","",3,"formGroup"],["label","Senha (*)","titlee","Senha","maxchars","100","forPassword","true","formControlName","password","widthPerc","49","ngDefaultControl","",3,"formGroup","valueChangedEmitter"],["label","Confirma\xe7\xe3o da Senha (*)","titlee","Confirma\xe7\xe3o da Senha","maxchars","100","forPassword","true","formControlName","re_password","widthPerc","49","ngDefaultControl","",3,"formGroup"],["widthPerc","98","breakBefore","true","formControlName","acceptTerms","label","Eu declaro que li na \xedntegra, concordo e aceito todos os termos descritos\n            \t\t\t\t          nos itens contidos no menu: Pol\xedticas do Site.","ngDefaultControl",""],[3,"captchaOkEmitter"],["saveText","Registrar-me",3,"validationMessages","processValidation","passwordValidationMessage","cancelDataEmitter"],["label","Senha Atual (*)","titlee","Senha Atual","maxchars","100","forPassword","true","formControlName","password","widthPerc","25","ngDefaultControl","",3,"formGroup"],["label","Nova Senha (*)","titlee","Nova Senha","maxchars","100","forPassword","true","formControlName","new_password","widthPerc","25","ngDefaultControl","",3,"formGroup","valueChangedEmitter"],["label","Confirma\xe7\xe3o Nova Senha (*)","titlee","Confirma\xe7\xe3o Nova Senha","maxchars","100","forPassword","true","formControlName","re_new_password","widthPerc","47","ngDefaultControl","",3,"formGroup"],["saveText","Trocar Senha",3,"validationMessages","processValidation","passwordValidationMessage","cancelDataEmitter"]],template:function(e,t){1&e&&(c.Bc(0,j,20,14,"ng-template",0),c.Bc(1,I,11,8,"ng-template",0),c.Bc(2,_,8,7,"ng-template",0)),2&e&&(c.jc("ngIf",0==t.view),c.zb(1),c.jc("ngIf",1==t.view),c.zb(1),c.jc("ngIf",2==t.view))},directives:[r.j,o.t,o.n,o.g,l.a,o.m,o.e,o.b,p,r.i,v.a,w.a],encapsulation:2}),M),F=c.Ub(x),z=[{path:"",component:x}],E=((V=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:V}),V.\u0275inj=c.Kb({factory:function(e){return new(e||V)},imports:[[n.c.forChild(z)],n.c]}),V),N=a("kS8M");a.d(t,"LoginModule",(function(){return T}));var D,T=((D=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:D}),D.\u0275inj=c.Kb({factory:function(e){return new(e||D)},imports:[[r.b,o.h,o.p,i.f,E,N.a]]}),D)},"n/9U":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a("fXoL"),o=a("ofXK");function i(e,t){if(1&e&&(r.Sb(0,"div",13),r.Ob(1,"i",14),r.Ob(2,"span",15),r.Rb()),2&e){var a=r.gc(2);r.zb(2),r.jc("innerHtml",a.passwordValidationMessage.msg,r.vc)}}function n(e,t){if(1&e&&(r.Sb(0,"div",8),r.Ob(1,"i",14),r.Ob(2,"span",15),r.Rb()),2&e){var a=r.gc(2);r.zb(2),r.jc("innerHtml",a.passwordValidationMessage.msg,r.vc)}}function s(e,t){if(1&e&&(r.Sb(0,"div",10),r.Bc(1,i,3,1,"div",11),r.Bc(2,n,3,1,"div",12),r.Ob(3,"div",0),r.Rb()),2&e){var a=r.gc();r.zb(1),r.jc("ngIf",200!=a.passwordValidationMessage.code),r.zb(1),r.jc("ngIf",200==a.passwordValidationMessage.code)}}function c(e,t){if(1&e&&(r.Sb(0,"div",13),r.Ob(1,"i",14),r.Ob(2,"span",15),r.Rb()),2&e){var a=t.$implicit;r.zb(2),r.jc("innerHtml",a,r.vc)}}function l(e,t){if(1&e&&(r.Sb(0,"div",16),r.Bc(1,c,3,1,"div",17),r.Ob(2,"div",0),r.Rb()),2&e){var a=r.gc();r.zb(1),r.jc("ngForOf",a.validationMessages)}}function d(e,t){if(1&e){var a=r.Tb();r.Sb(0,"button",18),r.ec("click",(function(e){return r.uc(a),r.gc().cancelData()})),r.Ob(1,"i",19),r.Sb(2,"span",7),r.Dc(3,"Cancelar"),r.Rb(),r.Rb()}}function u(e,t){if(1&e&&(r.Sb(0,"div"),r.Dc(1),r.Rb()),2&e){var a=t.$implicit;r.zb(1),r.Ec(a)}}var f=function(){var e=function(){function e(){_classCallCheck(this,e),this.cancelDataEmitter=new r.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.validationMessages=null,this.processValidation=null,this.additionalMsgsInfo=null,this.saveText=null,this.noCancel=null,this.passwordValidationMessage=null,this.cancelDataEmitter=null}},{key:"cancelData",value:function(){this.cancelDataEmitter.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["form-action"]],inputs:{validationMessages:"validationMessages",processValidation:"processValidation",additionalMsgsInfo:"additionalMsgsInfo",saveText:"saveText",noCancel:"noCancel",passwordValidationMessage:"passwordValidationMessage"},outputs:{cancelDataEmitter:"cancelDataEmitter"},decls:13,vars:5,consts:[[1,"clear"],["style","margin-top: .3rem;","aria-label","informa\xe7\xe3o e mensagens de valida\xe7\xe3o do campo Senha",4,"ngIf"],["style","margin-top: .3rem;","aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",4,"ngIf"],[1,"buttons","clear"],["class","btn btn-primary clickable",3,"click",4,"ngIf"],[1,"btn","btn-primary","clickable"],[1,"far","fa-save"],[2,"margin-left",".5em"],[1,"alert","alert-info"],[4,"ngFor","ngForOf"],["aria-label","informa\xe7\xe3o e mensagens de valida\xe7\xe3o do campo Senha",2,"margin-top",".3rem"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle"],[3,"innerHtml"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",2,"margin-top",".3rem"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"btn","btn-primary","clickable",3,"click"],[1,"fas","fa-ban"]],template:function(e,t){1&e&&(r.Ob(0,"div",0),r.Bc(1,s,4,2,"div",1),r.Bc(2,l,3,1,"div",2),r.Sb(3,"div",3),r.Bc(4,d,4,0,"button",4),r.Sb(5,"button",5),r.Ob(6,"i",6),r.Sb(7,"span",7),r.Dc(8),r.Rb(),r.Rb(),r.Rb(),r.Sb(9,"div",8),r.Sb(10,"div"),r.Dc(11,"* Campos de preenchimento obrigat\xf3rio."),r.Rb(),r.Bc(12,u,2,1,"div",9),r.Rb()),2&e&&(r.zb(1),r.jc("ngIf",null!=t.passwordValidationMessage),r.zb(1),r.jc("ngIf",t.validationMessages&&t.processValidation),r.zb(2),r.jc("ngIf",!t.noCancel),r.zb(4),r.Fc(" ",null!=t.saveText&&""!=t.saveText?t.saveText:"Salvar"," "),r.zb(4),r.jc("ngForOf",t.additionalMsgsInfo))},directives:[o.j,o.i],encapsulation:2}),e}()}}]);