function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var o=_superPropBase(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(a):r.value}})(e,t,a||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ZMR0:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var o=a("fXoL"),r=a("1dEi"),i=a("3Pt+"),n=a("ofXK");function s(e,t){1&e&&o.Pb(0,"div",3)}function c(e,t){1&e&&o.Pb(0,"div",4)}function l(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"label",12),o.Gc(2),o.Sb(),o.Sb()),2&e){var a=o.hc(2);o.zb(1),o.lc("for",a.id),o.lc("title",a.titlee),o.Ab("aria-label",a.titlee),o.zb(1),o.Hc(a.label)}}function d(e,t){if(1&e){var a=o.Ub();o.Tb(0,"input",13),o.fc("change",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)}))("blur",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)})),o.Sb()}if(2&e){var r=o.hc(2);o.Cb("form-control ",r.className,""),o.lc("id",r.id),o.lc("maxlength",r.maxchars>0?r.maxchars:250),o.kc("formControl",r.ngControl.control)("placeholder",r.placeholderr)}}function u(e,t){if(1&e){var a=o.Ub();o.Tb(0,"input",14),o.fc("change",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)}))("blur",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)})),o.Sb()}if(2&e){var r=o.hc(2);o.Cb("form-control ",r.className,""),o.lc("id",r.id),o.lc("maxlength",r.maxchars>0?r.maxchars:20),o.lc("mask",r.maskk),o.kc("dropSpecialCharacters",!r.preserveSpecialCharacters)("formControl",r.ngControl.control)("placeholder",r.placeholderr)}}function f(e,t){if(1&e){var a=o.Ub();o.Tb(0,"input",15),o.fc("change",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)}))("keyup",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)})),o.Sb()}if(2&e){var r=o.hc(2);o.Cb("form-control ",r.className,""),o.lc("id",r.id),o.lc("maxlength",r.maxchars>0?r.maxchars:250),o.lc("mask",r.maskk),o.kc("dropSpecialCharacters",!r.preserveSpecialCharacters)("formControl",r.ngControl.control)("placeholder",r.placeholderr)}}function h(e,t){if(1&e){var a=o.Ub();o.Tb(0,"textarea",16),o.fc("change",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)}))("keyup",(function(e){return o.wc(a),o.hc(2).onChangeValue(e)})),o.Gc(1,"\t"),o.Sb()}if(2&e){var r=o.hc(2);o.Cb("form-control ",r.className,""),o.lc("id",r.id),o.lc("rows",r.rowss),o.lc("maxlength",r.maxchars>0?r.maxchars:250*r.rowss),o.kc("formControl",r.ngControl.control)("placeholder",r.placeholderr)}}var m=function(e){return{width:e}};function g(e,t){if(1&e&&(o.Tb(0,"div",5),o.Ec(1,l,3,4,"div",6),o.Ec(2,d,1,7,"input",7),o.Ec(3,u,1,9,"input",8),o.Ec(4,f,1,9,"input",9),o.Ec(5,h,2,8,"textarea",10),o.Pb(6,"div",11),o.Sb()),2&e){var a=o.hc();o.kc("ngStyle",o.pc(6,m,a.widthPerc+"%")),o.zb(1),o.kc("ngIf",null!=a.label),o.zb(1),o.kc("ngIf",a.forPassword),o.zb(1),o.kc("ngIf",!a.forPassword&&a.forNumber),o.zb(1),o.kc("ngIf",!a.forPassword&&!a.forNumber&&1==a.rowss),o.zb(1),o.kc("ngIf",!a.forPassword&&!a.forNumber&&a.rowss>1)}}function b(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"label",12),o.Gc(2),o.Sb(),o.Sb()),2&e){var a=o.hc(2);o.zb(1),o.lc("for",a.id),o.lc("title",a.titlee),o.Ab("aria-label",a.titlee),o.zb(1),o.Hc(a.label)}}function p(e,t){if(1&e&&o.Pb(0,"input",21),2&e){var a=o.hc(2);o.Cb("form-control ",a.className,""),o.lc("id",a.id),o.kc("formControl",a.ngControl.control)}}function v(e,t){if(1&e&&o.Pb(0,"input",22),2&e){var a=o.hc(2);o.Cb("form-control ",a.className,""),o.lc("id",a.id),o.kc("formControl",a.ngControl.control)}}function w(e,t){if(1&e&&o.Pb(0,"input",23),2&e){var a=o.hc(2);o.Cb("form-control ",a.className,""),o.lc("id",a.id),o.kc("formControl",a.ngControl.control)}}function k(e,t){if(1&e&&(o.Tb(0,"textarea",24),o.Gc(1,"\t"),o.Sb()),2&e){var a=o.hc(2);o.Cb("form-control ",a.className,""),o.lc("id",a.id),o.lc("rows",a.rowss),o.kc("formControl",a.ngControl.control)}}function C(e,t){if(1&e&&(o.Tb(0,"div",5),o.Ec(1,b,3,4,"div",6),o.Ec(2,p,1,5,"input",17),o.Ec(3,v,1,5,"input",18),o.Ec(4,w,1,5,"input",19),o.Ec(5,k,2,6,"textarea",20),o.Pb(6,"div",11),o.Sb()),2&e){var a=o.hc();o.kc("ngStyle",o.pc(6,m,a.widthPerc+"%")),o.zb(1),o.kc("ngIf",null!=a.label),o.zb(1),o.kc("ngIf",a.forPassword),o.zb(1),o.kc("ngIf",!a.forPassword&&a.forNumber),o.zb(1),o.kc("ngIf",!a.forPassword&&!a.forNumber&&1==a.rowss),o.zb(1),o.kc("ngIf",!a.forPassword&&!a.forNumber&&a.rowss>1)}}var y=function(){var e=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).ngControl=e,a.valueChangedEmitter=new o.n,a}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(t.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this),this.forNumber=null,this.forAlphaNum=null,this.forAlphaNumName=null,this.forAlpha=null,this.forMail=null,this.forPassword=null,this.valueChangedEmitter=null}},{key:"onChangeValue",value:function(e){var t=e.target.value.trim();this.forNumber?this.adjustInputNumberValueAfterChange(t):this.forAlphaNum?this.adjustInputAlphaNumValueAfterChange(t):this.forAlphaNumName?this.adjustInputAlphaNumNameValueAfterChange(t):this.forAlpha?this.adjustInputAlphaValueAfterChange(t):this.forMail?this.adjustInputTextMailAddressValueAfterChange(t):this.forPassword?this.valueChangedEmitter.emit(t):this.adjustInputTextValueAfterChange(t)}}]),t}(r.a);return e.\u0275fac=function(t){return new(t||e)(o.Ob(i.l))},e.\u0275cmp=o.Ib({type:e,selectors:[["rich-input-text"]],inputs:{forNumber:"forNumber",forAlphaNum:"forAlphaNum",forAlphaNumName:"forAlphaNumName",forAlpha:"forAlpha",forMail:"forMail",forPassword:"forPassword"},outputs:{valueChangedEmitter:"valueChangedEmitter"},features:[o.wb],decls:4,vars:4,consts:[["class","clear","style","margin-bottom: .3em;",4,"ngIf"],["class","clear","style","margin-bottom: .7em;",4,"ngIf"],["class","field",3,"ngStyle",4,"ngIf"],[1,"clear",2,"margin-bottom",".3em"],[1,"clear",2,"margin-bottom",".7em"],[1,"field",3,"ngStyle"],[4,"ngIf"],["type","password","style","width: 100% !important;","autocomplete","off",3,"id","maxlength","class","formControl","placeholder","change","blur",4,"ngIf"],["type","text","style","width: 100% !important; text-align: right;","autocomplete","off",3,"id","maxlength","class","mask","dropSpecialCharacters","formControl","placeholder","change","blur",4,"ngIf"],["type","text","style","width: 100% !important;","autocomplete","off",3,"id","maxlength","class","mask","dropSpecialCharacters","formControl","placeholder","change","keyup",4,"ngIf"],["style","width: 100% !important;","autocomplete","off",3,"id","rows","maxlength","class","formControl","placeholder","change","keyup",4,"ngIf"],[1,"clear"],[3,"for","title"],["type","password","autocomplete","off",2,"width","100% !important",3,"id","maxlength","formControl","placeholder","change","blur"],["type","text","autocomplete","off",2,"width","100% !important","text-align","right",3,"id","maxlength","mask","dropSpecialCharacters","formControl","placeholder","change","blur"],["type","text","autocomplete","off",2,"width","100% !important",3,"id","maxlength","mask","dropSpecialCharacters","formControl","placeholder","change","keyup"],["autocomplete","off",2,"width","100% !important",3,"id","rows","maxlength","formControl","placeholder","change","keyup"],["type","password","style","width: 100% !important;","readonly","true",3,"id","class","formControl",4,"ngIf"],["type","text","style","width: 100% !important; text-align: right;","readonly","true",3,"id","class","formControl",4,"ngIf"],["type","text","style","width: 100% !important;","readonly","true",3,"id","class","formControl",4,"ngIf"],["style","width: 100% !important;","readonly","true",3,"id","rows","class","formControl",4,"ngIf"],["type","password","readonly","true",2,"width","100% !important",3,"id","formControl"],["type","text","readonly","true",2,"width","100% !important","text-align","right",3,"id","formControl"],["type","text","readonly","true",2,"width","100% !important",3,"id","formControl"],["readonly","true",2,"width","100% !important",3,"id","rows","formControl"]],template:function(e,t){1&e&&(o.Ec(0,s,1,0,"div",0),o.Ec(1,c,1,0,"div",1),o.Ec(2,g,7,8,"div",2),o.Ec(3,C,7,8,"div",2)),2&e&&(o.kc("ngIf",t.breakBefore&&!t.breakBeforeDouble&&!t.noRender),o.zb(1),o.kc("ngIf",t.breakBeforeDouble&&!t.noRender),o.zb(1),o.kc("ngIf",!t.noRender&&!t.onlyRead),o.zb(1),o.kc("ngIf",!t.noRender&&t.onlyRead))},directives:[n.j,n.k,i.b,i.i,i.m,i.d],encapsulation:2}),e}()},kIcU:function(e,t,a){"use strict";a.r(t);var o=a("ofXK"),r=a("3Pt+"),i=a("1kSV"),n=a("tyNb"),s=a("kYp3"),c=a("fXoL"),l=a("ZMR0"),d=a("fCXb");function u(e,t){1&e&&c.Pb(0,"div",3)}function f(e,t){if(1&e){var a=c.Ub();c.Tb(0,"input",15),c.fc("click",(function(e){return c.wc(a),c.hc(2).generateCaptcha(!0)})),c.Sb()}if(2&e){var o=c.hc(2);c.mc("id","iamnotrobot_",o.id,"")}}function h(e,t){if(1&e){var a=c.Ub();c.Tb(0,"input",16),c.fc("click",(function(e){return c.wc(a),c.hc(2).generateCaptcha(!1)})),c.Sb()}if(2&e){var o=c.hc(2);c.mc("id","iamnotrobot_",o.id,"")}}function m(e,t){if(1&e){var a=c.Ub();c.Tb(0,"div"),c.Tb(1,"div",4),c.Tb(2,"div",5),c.Ec(3,f,1,1,"input",6),c.Ec(4,h,1,1,"input",7),c.Sb(),c.Tb(5,"div",8),c.Tb(6,"label",9),c.Gc(7," Eu n\xe3o sou um rob\xf4, tenho certeza. "),c.Sb(),c.Sb(),c.Sb(),c.Pb(8,"div",10),c.Tb(9,"div",11),c.Tb(10,"div"),c.Tb(11,"label",12),c.Gc(12,"Captcha"),c.Sb(),c.Sb(),c.Tb(13,"div",13),c.Gc(14),c.Sb(),c.Sb(),c.Tb(15,"div",11),c.Tb(16,"div"),c.Tb(17,"label",12),c.Gc(18,"Digite o Captcha (*)"),c.Sb(),c.Sb(),c.Tb(19,"input",14),c.fc("keyup",(function(e){return c.wc(a),c.hc().onkeyup(e)}))("change",(function(e){return c.wc(a),c.hc().onkeyup(e)})),c.Sb(),c.Sb(),c.Pb(20,"div",10),c.Sb()}if(2&e){var o=c.hc();c.zb(3),c.kc("ngIf",null==o.captcha),c.zb(1),c.kc("ngIf",null!=o.captcha),c.zb(2),c.mc("for","iamnotrobot_",o.id,""),c.zb(5),c.mc("for","captcha_",o.id,""),c.zb(2),c.mc("id","captcha_",o.id,""),c.zb(1),c.Ic(" ",o.captcha," "),c.zb(3),c.mc("for","reCaptcha_",o.id,""),c.zb(2),c.mc("id","reCaptcha_",o.id,"")}}function g(e,t){1&e&&c.Pb(0,"div",17)}var b,p=((b=function(){function e(t){_classCallCheck(this,e),this.stringService=t,this.captchaOkEmitter=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.id=(new Date).getTime()+"_"+this.stringService.generateCode3(3),this.captchaOkEmitter.emit(!1)}},{key:"ngOnDestroy",value:function(){this.id=null,this.captcha=null,clearTimeout(this.timeout),this.timeout=null,this.noRender=null,this.captchaOkEmitter=null}},{key:"generateCaptcha",value:function(e){if(null!=this.captchaOkEmitter){this.captcha=e?this.stringService.generateCode4(2).toLowerCase():null;var t=document.getElementById("reCaptcha_"+this.id);null!=t&&(t.value=""),this.captchaOkEmitter.emit(!1)}}},{key:"onkeyup",value:function(e){var t=this,a=e.target.value.trim(),o=null!=this.captcha&&""!=this.captcha.trim()&&this.captcha.trim()==a;this.captchaOkEmitter.emit(o),o?this.timeout=setTimeout((function(){t.generateCaptcha(!1)}),1e4):(clearTimeout(this.timeout),this.timeout=null)}}]),e}()).\u0275fac=function(e){return new(e||b)(c.Ob(d.a))},b.\u0275cmp=c.Ib({type:b,selectors:[["captcha"]],inputs:{noRender:"noRender"},outputs:{captchaOkEmitter:"captchaOkEmitter"},decls:3,vars:3,consts:[["class","clear","style","margin-bottom: .3em;",4,"ngIf"],[4,"ngIf"],["class","clear","style","margin-bottom: .1em;",4,"ngIf"],[1,"clear",2,"margin-bottom",".3em"],[1,"field","fieldset",2,"width","98%","padding-top",".3em","margin-bottom","0"],[1,"field",2,"width","1.7em"],["type","checkbox",3,"id","click",4,"ngIf"],["type","checkbox","checked","checked",3,"id","click",4,"ngIf"],[1,"field","label",2,"width","calc(99% - 2em)"],[1,"clickable",2,"display","block",3,"for"],[1,"clear"],[1,"field",2,"width","49%"],[3,"for"],[1,"form-control","disabled",3,"id"],["type","text","maxlength","8",1,"form-control",2,"width","100%",3,"id","keyup","change"],["type","checkbox",3,"id","click"],["type","checkbox","checked","checked",3,"id","click"],[1,"clear",2,"margin-bottom",".1em"]],template:function(e,t){1&e&&(c.Ec(0,u,1,0,"div",0),c.Ec(1,m,21,8,"div",1),c.Ec(2,g,1,0,"div",2)),2&e&&(c.kc("ngIf",!t.noRender),c.zb(1),c.kc("ngIf",!t.noRender),c.zb(1),c.kc("ngIf",!t.noRender))},directives:[o.j],encapsulation:2}),b),v=a("Th3u"),w=a("n/9U");function k(e,t){if(1&e&&(c.Tb(0,"div",19),c.Pb(1,"i",20),c.Pb(2,"span",21),c.Sb()),2&e){var a=t.$implicit;c.zb(2),c.kc("innerHtml",a,c.xc)}}function C(e,t){if(1&e&&(c.Tb(0,"div",17),c.Ec(1,k,3,1,"div",18),c.Sb()),2&e){var a=c.hc(2);c.zb(1),c.kc("ngForOf",a.validationMessages)}}function y(e,t){if(1&e){var a=c.Ub();c.Tb(0,"button",22),c.fc("click",(function(e){return c.wc(a),c.hc(2).iLostPassword(!1)})),c.Pb(1,"i",23),c.Gc(2," Voltar "),c.Sb()}}function P(e,t){1&e&&(c.Tb(0,"button",24),c.Pb(1,"i",25),c.Gc(2," Recuperar Senha "),c.Sb())}function S(e,t){if(1&e){var a=c.Ub();c.Tb(0,"button",26),c.fc("click",(function(e){return c.wc(a),c.hc(2).iLostPassword(!0)})),c.Pb(1,"i",27),c.Gc(2," Esqueci a Senha "),c.Sb()}}function T(e,t){if(1&e){var a=c.Ub();c.Tb(0,"button",28),c.fc("click",(function(e){return c.wc(a),c.hc(2).cancelData()})),c.Pb(1,"i",29),c.Gc(2," Cancelar "),c.Sb()}}function I(e,t){1&e&&(c.Tb(0,"button",30),c.Pb(1,"i",25),c.Gc(2," Login "),c.Sb())}function E(e,t){if(1&e){var a=c.Ub();c.Tb(0,"div"),c.Tb(1,"form",1),c.fc("ngSubmit",(function(e){return c.wc(a),c.hc().onLoginFormSubmit()})),c.Tb(2,"div",2),c.Tb(3,"div"),c.Pb(4,"rich-input-text",3),c.Pb(5,"rich-input-text",4),c.Pb(6,"rich-input-text",5),c.Pb(7,"div",6),c.Sb(),c.Tb(8,"captcha",7),c.fc("captchaOkEmitter",(function(e){return c.wc(a),c.hc().setCaptchaOk(e)})),c.Sb(),c.Tb(9,"div",8),c.Ec(10,C,2,1,"div",9),c.Sb(),c.Sb(),c.Tb(11,"div",10),c.Ec(12,y,3,0,"button",11),c.Ec(13,P,3,0,"button",12),c.Ec(14,S,3,0,"button",13),c.Ec(15,T,3,0,"button",14),c.Ec(16,I,3,0,"button",15),c.Sb(),c.Tb(17,"div",16),c.Tb(18,"div"),c.Gc(19,"* Campos de preenchimento obrigat\xf3rio."),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&e){var o=c.hc();c.zb(1),c.kc("formGroup",o.loginForm),c.zb(3),c.kc("formGroup",o.loginForm),c.zb(1),c.kc("formGroup",o.loginForm)("forPassword",!0)("noRender",o.lostPassword),c.zb(1),c.kc("formGroup",o.loginForm)("noRender",null==o.loginConfirmation||o.lostPassword),c.zb(2),c.kc("noRender",o.tryTimes<1),c.zb(2),c.kc("ngIf",o.validationMessages&&o.processValidation),c.zb(2),c.kc("ngIf",o.lostPassword),c.zb(1),c.kc("ngIf",o.lostPassword),c.zb(1),c.kc("ngIf",!o.lostPassword),c.zb(1),c.kc("ngIf",!o.lostPassword),c.zb(1),c.kc("ngIf",!o.lostPassword)}}function _(e,t){if(1&e){var a=c.Ub();c.Tb(0,"div"),c.Tb(1,"form",1),c.fc("ngSubmit",(function(e){return c.wc(a),c.hc().onObjectFormSubmit()})),c.Tb(2,"div",2),c.Pb(3,"rich-input-text",31),c.Pb(4,"rich-input-text",32),c.Tb(5,"rich-input-text",33),c.fc("valueChangedEmitter",(function(e){return c.wc(a),c.hc().validatePasswordForce(e)})),c.Sb(),c.Pb(6,"rich-input-text",34),c.Pb(7,"rich-checkbox",35),c.Tb(8,"captcha",36),c.fc("captchaOkEmitter",(function(e){return c.wc(a),c.hc().setCaptchaOk(e)})),c.Sb(),c.Pb(9,"div",6),c.Sb(),c.Tb(10,"form-action",37),c.fc("cancelDataEmitter",(function(e){return c.wc(a),c.hc().cancelData()})),c.Sb(),c.Sb(),c.Sb()}if(2&e){var o=c.hc();c.zb(1),c.kc("formGroup",o.dataForm),c.zb(2),c.kc("formGroup",o.dataForm),c.zb(1),c.kc("formGroup",o.dataForm),c.zb(1),c.kc("formGroup",o.dataForm),c.zb(1),c.kc("formGroup",o.dataForm),c.zb(4),c.kc("validationMessages",o.validationMessages)("processValidation",o.processValidation)("passwordValidationMessage",o.passwordValidationMessage)}}function M(e,t){if(1&e){var a=c.Ub();c.Tb(0,"div"),c.Tb(1,"form",1),c.fc("ngSubmit",(function(e){return c.wc(a),c.hc().onChangePasswordFormSubmit()})),c.Tb(2,"div"),c.Pb(3,"rich-input-text",38),c.Tb(4,"rich-input-text",39),c.fc("valueChangedEmitter",(function(e){return c.wc(a),c.hc().validatePasswordForce(e)})),c.Sb(),c.Pb(5,"rich-input-text",40),c.Pb(6,"div",6),c.Sb(),c.Tb(7,"form-action",41),c.fc("cancelDataEmitter",(function(e){return c.wc(a),c.hc().cancelData()})),c.Sb(),c.Sb(),c.Sb()}if(2&e){var o=c.hc();c.zb(1),c.kc("formGroup",o.changePasswordForm),c.zb(2),c.kc("formGroup",o.changePasswordForm),c.zb(1),c.kc("formGroup",o.changePasswordForm),c.zb(1),c.kc("formGroup",o.changePasswordForm),c.zb(2),c.kc("validationMessages",o.validationMessages)("processValidation",o.processValidation)("passwordValidationMessage",o.passwordValidationMessage)}}var V,x,O=((V=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.setInitializationServices(["user"]),this.crudService=this.userService,this.view=this.storageService.get()[0],this.tryTimes=0,this.setCaptchaOk(!1),this.sucessErrorMessages={200:"Registro efetuado com sucesso.<br/>Aguarde envio do e-mail...",210:"Registro efetuado com sucesso.<br/>Acesse seu e-mail e efetue a ativa\xe7\xe3o do acesso.",211:"Troca de senha efetuada com sucesso.",202:"Solicita\xe7\xe3o realizada. Enviaremos Nova senha e Novo c\xf3digo  de confirma\xe7\xe3o por e-mail, caso a conta realmente exista."},this.dataForm=new r.f({name:new r.c("",[r.s.required]),email:new r.c("",[r.s.required,r.s.email]),password:new r.c("",[r.s.required]),re_password:new r.c("",[r.s.required]),acceptTerms:new r.c("",[])}),this.changePasswordForm=new r.f({password:new r.c("",[r.s.required]),new_password:new r.c("",[r.s.required]),re_new_password:new r.c("",[r.s.required])}),this.loginForm=new r.f({email:new r.c("",[r.s.required,r.s.email]),password:new r.c("",[r.s.required]),confirmation_code:new r.c("",[])}),_get(_getPrototypeOf(t.prototype),"ngOnInit",this).call(this)}},{key:"afterNgOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.loginForm=null,this.changePasswordForm=null,this.lostPassword=null,this.confirmationCodeError=null,this.loginConfirmation=null,this.passwordValidationMessage=null,this.tryTimes=null,this.view=null,this.captchaOk=null,_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"listData",value:function(){}},{key:"setObject",value:function(e){_get(_getPrototypeOf(t.prototype),"setObject",this).call(this,e),this.dataForm.setValue({name:e.name,email:e.email,password:e.password,re_password:null,acceptTerms:!1})}},{key:"setCaptchaOk",value:function(e){this.captchaOk=e}},{key:"onLoginFormSubmit",value:function(){var e=this;if(this.processValidation=!0,this.validationMessages=[],this.canceling)return this.canceling=!1,this.loginForm.reset(),this.clearMessages(0),void this.setProcessing(!1);if(this.lostPassword)this.recoverPassword();else if(this.confirmationCodeError=!1,this.emptyString(this.loginConfirmation))this.makeLogin();else{var t=this.loginForm.value;this.loginConfirmation==t.confirmation_code.trim()?(this.setProcessing(!0),this.userService.loadForActivation(t).then((function(t){!e.emptyObject(t)&&e.processObjectAndValidationResult(t,!1)?e.userService.activateUser(t).then((function(t){e.processObjectAndValidationResult(t,!1)?e.makeLogin():e.setConfirmationError()})):e.setLoginError()}))):this.setConfirmationError()}}},{key:"setConfirmationError",value:function(){this.confirmationCodeError=!0,this.addValidationMessage("C\xf3digo de Confirma\xe7\xe3o diferente do enviado por e-mail!"),this.setProcessing(!1)}},{key:"setLoginError",value:function(){this.addValidationMessage("Login e/ou Senha inv\xe1lido(s)!"),this.setProcessing(!1)}},{key:"setLoginErrorTreece",value:function(){this.tryTimes<=2?this.setLoginError():(this.addValidationMessage("Tentativas de login fracassadas: 3.<br/>Aguarde 5 minutos para tentar novamente."),this.setProcessing(!1))}},{key:"validateLoginForm",value:function(){return this.errorRequiredForm(this.loginForm,"email")&&this.addValidationMessage("Login \xe9 requerido!"),this.errorEmailForm(this.loginForm,"email")&&this.addValidationMessage("Login deve ser um endere\xe7o de email v\xe1lido!"),!this.lostPassword&&this.errorRequiredForm(this.loginForm,"password")&&this.addValidationMessage("Senha \xe9 requerida!"),!this.lostPassword&&this.errorRequiredForm(this.loginForm,"confirmation_code")&&this.addValidationMessage("C\xf3digo de Confirma\xe7\xe3o \xe9 requerido!"),this.tryTimes>0&&!this.captchaOk&&this.addValidationMessage("Captcha digitado n\xe3o confere!<br/>Confirme que n\xe3o \xe9 um rob\xf4 e digite o captcha corretamente!"),!this.inValidationMsgs()}},{key:"makeLogin",value:function(){var e=this;if(this.logged=null,this.processValidation=!0,this.validationMessages=[],this.validateLoginForm()){this.preProcessConfigurations();var t=this.loginForm.value;t.confirmation_code=null,this.tryTimes=0,this.userService.loginUser(t).then((function(t){return e.emptyObject(t)?(e.setLoginError(),e.tryTimes++,void(e.captchaOk=!1)):e.processObjectAndValidationResult(t,!1)?"404"==t.name.trim()?(e.tryTimes++,e.setLoginErrorTreece(),void(e.captchaOk=!1)):(e.loginConfirmation=null,e.emptyString(t.confirmation_code)?t.active?(e.logged=t,e.storageService.setAuthUser(e.logged),e.userServiceRouter.setLogged(e.logged),e.processValidation=!1,e.loginForm.reset(),e.clearMessages(null),e.setProcessing(!1),e.storageService.localStorageSetItem("_ownerId_"+e.getAppId(),""+e.logged.id,!1),e.storageService.localStorageSetItem("logged.category",""+e.logged.category,!1),void e.eventEmitterService.get("home").emit({object:e.logged})):(e.setLoginError(),e.tryTimes++,void(e.captchaOk=!1)):(e.loginConfirmation=t.confirmation_code.trim(),void e.setProcessing(!1))):(e.setProcessing(!1),e.tryTimes++,void(e.captchaOk=!1))}))}}},{key:"validateChangePasswordFormFields",value:function(){if(this.errorRequiredForm(this.changePasswordForm,"password")&&this.addValidationMessage("Senha \xe9 requerida!"),this.errorRequiredForm(this.changePasswordForm,"new_password")&&this.addValidationMessage("Nova Senha \xe9 requerida!"),this.errorRequiredForm(this.changePasswordForm,"re_new_password")&&this.addValidationMessage("Confirma\xe7\xe3o da Nova Senha \xe9 requerida!"),this.inValidationMsgs())return null;var e=this.changePasswordForm.value;if(e.password.trim()!=this.logged.password&&this.addValidationMessage("Senha n\xe3o confere!"),e.password.trim()==this.logged.password&&e.new_password.trim()==this.logged.password&&this.addValidationMessage("Nova Senha n\xe3o pode ser a senha atual!"),e.new_password.trim()!=e.re_new_password.trim()&&this.addValidationMessage("Confirma\xe7\xe3o da Nova Senha n\xe3o confere!"),this.inValidationMsgs())return null;var t=this.logged;return t.password=e.new_password.trim(),t.ownerId=parseInt(this.storageService.localStorageGetItem("_ownerId_"+this.getAppId())),t._token=this.storageService.localStorageGetItem("_token_"+this.getAppId()),t}},{key:"onChangePasswordFormSubmit",value:function(){var e=this;if(this.validationMessages=[],this.processValidation=!0,this.canceling)return this.canceling=!1,this.changePasswordForm.reset(),this.clearMessages(0),void this.setProcessing(!1);var t=this.validateChangePasswordFormFields();null!=t&&(this.setProcessing(!0),this.userService.update(t.id,t).then((function(a){if(e.processObjectAndValidationResult(a,!0))return e.formModal.close(),e.logged.password=t.password,e.setStatusCode(211),e.clearMessages(null),void e.setProcessing(!1);e.logged.password=e.changePasswordForm.value.password.trim(),e.formModal.close(),e.clearMessages(null),e.setProcessing(!1)})))}},{key:"prepareToSaveUpdate",value:function(e){return this.userService.prepareForRegistration(e)}},{key:"validateFormFields",value:function(){this.errorRequired("name")&&this.addValidationMessage("Nome \xe9 requerido!"),this.errorRequired("email")&&this.addValidationMessage("E-mail \xe9 requerido!"),this.errorEmail("email")&&this.addValidationMessage("E-mail deve ser um endere\xe7o de email v\xe1lido!"),this.errorRequired("password")&&this.addValidationMessage("Senha \xe9 requerida!"),this.errorRequired("re_password")&&this.addValidationMessage("Confirma\xe7\xe3o da Senha \xe9 requerida!");var e=this.dataForm.value;if(null==e.acceptTerms||!e.acceptTerms){var t="\xc9 necess\xe1rio que voc\xea declare que aceita as pol\xedticas do site.<br/>";this.addValidationMessage(t+=" Marque a caixa de sele\xe7\xe3o: <strong>Eu declaro que li na \xedntegra ...</strong>")}return this.captchaOk||(t="Captcha digitado n\xe3o confere!",this.addValidationMessage(t+="<br/>Confirme que n\xe3o \xe9 um rob\xf4 e digite o captcha corretamente!")),!this.inValidationMsgs()}},{key:"validatePasswordForce",value:function(e){if(this.validationMessages=[],this.processValidation=!1,this.passwordValidationMessage=null,!this.emptyString(e.trim())){var t=this.stringService.validatePassword(e,!0);200!=t.code?(this.processValidation=!0,this.addValidationMessage("["+t.code+"] "+t.msg)):this.passwordValidationMessage=t}}},{key:"preValidateToSaveUpdate",value:function(e){var t=this.stringService.validatePassword(e.password,!1);return 200!=t.code&&this.addValidationMessage("["+t.code+"] "+t.msg),e.password!=e.re_password&&this.addValidationMessage("A Confirma\xe7\xe3o da Senha n\xe3o confere com a Senha!"),this.stringService.validateEmail(e.email)||this.addValidationMessage("E-mail deve ser um endere\xe7o de email v\xe1lido!"),!this.inValidationMsgs()}},{key:"callbackAfterCreate",value:function(e){this.setStatusCode(210),this.clearMessages(3e3),this.setProcessing(!1)}},{key:"iLostPassword",value:function(e){this.lostPassword=e,this.validationMessages=[]}},{key:"recoverPassword",value:function(){var e=this;if(this.validateLoginForm()){var t=this.loginForm.value;this.setStatusCode(202),this.setProcessing(!0),this.userService.recoverPassword(t).then((function(t){e.processObjectAndValidationResult(t,!1),e.closeRecoverPassword()}))}}},{key:"closeRecoverPassword",value:function(){this.lostPassword=!1,this.loginForm.reset(),this.clearMessages(null),this.setProcessing(!1)}}]),t}(s.a)).\u0275fac=function(e){return F(e||V)},V.\u0275cmp=c.Ib({type:V,selectors:[["login-root"]],features:[c.wb],decls:3,vars:3,consts:[[3,"ngIf"],[1,"dataForm",3,"formGroup","ngSubmit"],[1,"form"],["label","Login (*)","titlee","Login/E-mail","maxchars","100","formControlName","email","widthPerc","98","ngDefaultControl","",3,"formGroup"],["label","Senha (*)","titlee","Senha","maxchars","100","formControlName","password","widthPerc","98","ngDefaultControl","",3,"formGroup","forPassword","noRender"],["label","C\xf3digo de Confirma\xe7\xe3o (*)","titlee","C\xf3digo de Confirma\xe7\xe3o","maxchars","20","formControlName","confirmation_code","widthPerc","98","ngDefaultControl","",3,"formGroup","noRender"],[1,"clear"],[3,"noRender","captchaOkEmitter"],[2,"margin-top","0.3rem"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",4,"ngIf"],[1,"buttons","clear"],["class","btn btn-primary clickable","style","padding: 0.3em;",3,"click",4,"ngIf"],["class","btn btn-primary clickable","style","padding: 0.3em;",4,"ngIf"],["class","btn btn-link","style","padding: 0.3em;",3,"click",4,"ngIf"],["class","btn btn-primary clickable","tabindex","0",3,"click",4,"ngIf"],["class","btn btn-primary clickable","tabindex","0",4,"ngIf"],[1,"alert","alert-info"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle"],[3,"innerHtml"],[1,"btn","btn-primary","clickable",2,"padding","0.3em",3,"click"],[1,"fas","fa-arrow-left"],[1,"btn","btn-primary","clickable",2,"padding","0.3em"],[1,"fas","fa-check"],[1,"btn","btn-link",2,"padding","0.3em",3,"click"],[1,"fas","fa-at"],["tabindex","0",1,"btn","btn-primary","clickable",3,"click"],[1,"fas","fa-ban"],["tabindex","0",1,"btn","btn-primary","clickable"],["label","Nome (*)","titlee","Nome","maxchars","30","forAlpha","true","formControlName","name","widthPerc","49","ngDefaultControl","",3,"formGroup"],["label","E-mail (*)","titlee","E-mail","maxchars","100","formControlName","email","widthPerc","49","ngDefaultControl","",3,"formGroup"],["label","Senha (*)","titlee","Senha","maxchars","100","forPassword","true","formControlName","password","widthPerc","49","ngDefaultControl","",3,"formGroup","valueChangedEmitter"],["label","Confirma\xe7\xe3o da Senha (*)","titlee","Confirma\xe7\xe3o da Senha","maxchars","100","forPassword","true","formControlName","re_password","widthPerc","49","ngDefaultControl","",3,"formGroup"],["widthPerc","98","breakBefore","true","formControlName","acceptTerms","label","Eu declaro que li na \xedntegra, concordo e aceito todos os termos descritos\n            \t\t\t\t          nos itens contidos no menu: Pol\xedticas do Site.","ngDefaultControl",""],[3,"captchaOkEmitter"],["saveText","Registrar-me",3,"validationMessages","processValidation","passwordValidationMessage","cancelDataEmitter"],["label","Senha Atual (*)","titlee","Senha Atual","maxchars","100","forPassword","true","formControlName","password","widthPerc","25","ngDefaultControl","",3,"formGroup"],["label","Nova Senha (*)","titlee","Nova Senha","maxchars","100","forPassword","true","formControlName","new_password","widthPerc","25","ngDefaultControl","",3,"formGroup","valueChangedEmitter"],["label","Confirma\xe7\xe3o Nova Senha (*)","titlee","Confirma\xe7\xe3o Nova Senha","maxchars","100","forPassword","true","formControlName","re_new_password","widthPerc","47","ngDefaultControl","",3,"formGroup"],["saveText","Trocar Senha",3,"validationMessages","processValidation","passwordValidationMessage","cancelDataEmitter"]],template:function(e,t){1&e&&(c.Ec(0,E,20,14,"ng-template",0),c.Ec(1,_,11,8,"ng-template",0),c.Ec(2,M,8,7,"ng-template",0)),2&e&&(c.kc("ngIf",0==t.view),c.zb(1),c.kc("ngIf",1==t.view),c.zb(1),c.kc("ngIf",2==t.view))},directives:[o.j,r.u,r.n,r.g,l.a,r.m,r.e,r.b,p,o.i,v.a,w.a],encapsulation:2}),V),F=c.Vb(O),z=[{path:"",component:O}],N=((x=function e(){_classCallCheck(this,e)}).\u0275mod=c.Mb({type:x}),x.\u0275inj=c.Lb({factory:function(e){return new(e||x)},imports:[[n.c.forChild(z)],n.c]}),x),R=a("kS8M");a.d(t,"LoginModule",(function(){return A}));var G,A=((G=function e(){_classCallCheck(this,e)}).\u0275mod=c.Mb({type:G}),G.\u0275inj=c.Lb({factory:function(e){return new(e||G)},imports:[[o.b,r.h,r.q,i.f,N,R.a]]}),G)},"n/9U":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var o=a("fXoL"),r=a("ofXK");function i(e,t){if(1&e&&(o.Tb(0,"div",13),o.Pb(1,"i",14),o.Pb(2,"span",15),o.Sb()),2&e){var a=o.hc(2);o.zb(2),o.kc("innerHtml",a.passwordValidationMessage.msg,o.xc)}}function n(e,t){if(1&e&&(o.Tb(0,"div",8),o.Pb(1,"i",14),o.Pb(2,"span",15),o.Sb()),2&e){var a=o.hc(2);o.zb(2),o.kc("innerHtml",a.passwordValidationMessage.msg,o.xc)}}function s(e,t){if(1&e&&(o.Tb(0,"div",10),o.Ec(1,i,3,1,"div",11),o.Ec(2,n,3,1,"div",12),o.Pb(3,"div",0),o.Sb()),2&e){var a=o.hc();o.zb(1),o.kc("ngIf",200!=a.passwordValidationMessage.code),o.zb(1),o.kc("ngIf",200==a.passwordValidationMessage.code)}}function c(e,t){if(1&e&&(o.Tb(0,"div",13),o.Pb(1,"i",14),o.Pb(2,"span",15),o.Sb()),2&e){var a=t.$implicit;o.zb(2),o.kc("innerHtml",a,o.xc)}}function l(e,t){if(1&e&&(o.Tb(0,"div",16),o.Ec(1,c,3,1,"div",17),o.Pb(2,"div",0),o.Sb()),2&e){var a=o.hc();o.zb(1),o.kc("ngForOf",a.validationMessages)}}function d(e,t){if(1&e){var a=o.Ub();o.Tb(0,"button",18),o.fc("click",(function(e){return o.wc(a),o.hc().cancelData()})),o.Pb(1,"i",19),o.Tb(2,"span",7),o.Gc(3,"Cancelar"),o.Sb(),o.Sb()}}function u(e,t){if(1&e&&(o.Tb(0,"div"),o.Gc(1),o.Sb()),2&e){var a=t.$implicit;o.zb(1),o.Hc(a)}}var f=function(){var e=function(){function e(){_classCallCheck(this,e),this.cancelDataEmitter=new o.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.validationMessages=null,this.processValidation=null,this.additionalMsgsInfo=null,this.saveText=null,this.noCancel=null,this.passwordValidationMessage=null,this.cancelDataEmitter=null}},{key:"cancelData",value:function(){this.cancelDataEmitter.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Ib({type:e,selectors:[["form-action"]],inputs:{validationMessages:"validationMessages",processValidation:"processValidation",additionalMsgsInfo:"additionalMsgsInfo",saveText:"saveText",noCancel:"noCancel",passwordValidationMessage:"passwordValidationMessage"},outputs:{cancelDataEmitter:"cancelDataEmitter"},decls:13,vars:5,consts:[[1,"clear"],["style","margin-top: .3rem;","aria-label","informa\xe7\xe3o e mensagens de valida\xe7\xe3o do campo Senha",4,"ngIf"],["style","margin-top: .3rem;","aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",4,"ngIf"],[1,"buttons","clear"],["class","btn btn-primary clickable",3,"click",4,"ngIf"],[1,"btn","btn-primary","clickable"],[1,"far","fa-save"],[2,"margin-left",".5em"],[1,"alert","alert-info"],[4,"ngFor","ngForOf"],["aria-label","informa\xe7\xe3o e mensagens de valida\xe7\xe3o do campo Senha",2,"margin-top",".3rem"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle"],[3,"innerHtml"],["aria-label","mensagens de valida\xe7\xe3o do formul\xe1rio",2,"margin-top",".3rem"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"btn","btn-primary","clickable",3,"click"],[1,"fas","fa-ban"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Ec(1,s,4,2,"div",1),o.Ec(2,l,3,1,"div",2),o.Tb(3,"div",3),o.Ec(4,d,4,0,"button",4),o.Tb(5,"button",5),o.Pb(6,"i",6),o.Tb(7,"span",7),o.Gc(8),o.Sb(),o.Sb(),o.Sb(),o.Tb(9,"div",8),o.Tb(10,"div"),o.Gc(11,"* Campos de preenchimento obrigat\xf3rio."),o.Sb(),o.Ec(12,u,2,1,"div",9),o.Sb()),2&e&&(o.zb(1),o.kc("ngIf",null!=t.passwordValidationMessage),o.zb(1),o.kc("ngIf",t.validationMessages&&t.processValidation),o.zb(2),o.kc("ngIf",!t.noCancel),o.zb(4),o.Ic(" ",null!=t.saveText&&""!=t.saveText?t.saveText:"Salvar"," "),o.zb(4),o.kc("ngForOf",t.additionalMsgsInfo))},directives:[r.j,r.i],encapsulation:2}),e}()}}]);